{"version":3,"file":"js/490.3910d7aa.js","mappings":"oOAGO,MAAMA,GAAuBC,EAAAA,EAAAA,IAAY,eAAgB,CAC9DC,MAAOA,KACE,CACLC,SAAS,EAETC,WAAY,KACZC,MAAO,KACPC,WAAY,KACZC,UAAW,KAEXC,aAAc,CACZC,MAAO,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC5CC,MAAO,CAAC,IAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC5CC,OAAQ,CAAC,IAAK,KAAM,KAAM,KAAM,IAAM,KAAM,MAC5CC,UAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAE5CC,MAAO,CACLC,gBAAiB,IACjBC,aAAc,KACdC,eAAgB,IAChBC,YAAa,MAGfC,QAAS,CACPC,KAAM,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC7DC,UAAW,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KACzDC,aAAc,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAIzDC,QAAS,CACP,aAAMC,GACJC,KAAKrB,SAAU,EACf,MAAMsB,QAAaC,EAAAA,EAAKC,IAAI,kBACtBC,QAAaF,EAAAA,EAAKC,IAAI,mBAC5BH,KAAKK,aAAaJ,EAAKK,MACvBN,KAAKO,cAAcH,EAAKE,MACxBN,KAAKrB,SAAU,CACjB,EACA0B,YAAAA,CAAaC,GACXN,KAAKpB,WAAa0B,EAAKE,aACvBR,KAAKnB,MAAQyB,EAAKG,QAClBT,KAAKlB,WAAawB,EAAKI,aACvBV,KAAKjB,UAAYuB,EAAKK,WACxB,EACAJ,aAAAA,CAAcD,GACZN,KAAKX,MAAMC,gBAAkBgB,EAAKM,sBAClCZ,KAAKX,MAAME,aAAee,EAAKO,mBAC/Bb,KAAKX,MAAMG,eAAiBc,EAAKQ,iBACjCd,KAAKX,MAAMI,YAAca,EAAKS,cAE9B,MAAMC,EAAa,IAAIV,EAAKW,mBAAmBC,MAAK,CAACC,EAAGC,IAAMD,EAAEE,KAAOD,EAAEC,OAAMC,OAAO,IACtFtB,KAAKhB,aAAe,CAClBC,MAAO+B,EAAWO,KAAIC,GAAQA,EAAKH,OACnCnC,MAAO8B,EAAWO,KAAIC,GAAQA,EAAKC,oBACnCtC,OAAQ6B,EAAWO,KAAIC,GAAQA,EAAKX,qBACpCzB,UAAW4B,EAAWO,KAAIC,GAAQA,EAAKZ,yBAGzCZ,KAAKN,QAAU,CACbC,KAAMW,EAAKoB,gBAAgBH,KAAIC,GAAQA,EAAKG,eAC5C/B,UAAWU,EAAKoB,gBAAgBH,KAAIC,GAAQA,EAAKI,cACjD/B,aAAcS,EAAKoB,gBAAgBH,KAAIC,GAAQA,EAAKK,iBAExD,K,maC7DJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,8GCIA,MAAMC,EAAQC,EACR1B,GAAO2B,EAAAA,EAAAA,KAAS,IAAeF,EAAM/C,eAErCkD,GAAWC,EAAAA,EAAAA,IAAI,M,OAErBC,EAAAA,EAAAA,KAAY,KACV,IAAKF,EAASG,MAAO,OAErB,MAAMC,EAAQC,EAAAA,GAAaL,EAASG,OAC9BG,EAAS,CACbC,QAAS,CACPC,QAAS,OACTC,gBAAiB,YACjBC,YAAa,OACbC,UAAW,CACTC,MAAO,SAGXC,OAAQ,CACNC,KAAM,KACNH,UAAW,CACTC,MAAO,SAGXG,MAAO,CACLC,KAAM,WACNC,aAAa,EACb7C,KAAMA,EAAK+B,MAAMpD,OAEnBmE,MAAO,CACLF,KAAM,QACNG,UAAW,CACTC,UAAW,CACTC,QAAS,MAIfC,OAAQ,CACN,CACEC,KAAM,OACNnD,KAAMA,EAAK+B,MAAMnD,MACjBgE,KAAM,OACNQ,UAAW,CACTH,QAAS,IAEXI,QAAQ,GAEV,CACEF,KAAM,OACNnD,KAAMA,EAAK+B,MAAMjD,UACjB8D,KAAM,OACNQ,UAAW,CACTH,QAAS,IAEXI,QAAQ,GAEV,CACEF,KAAM,OACNnD,KAAMA,EAAK+B,MAAMlD,OACjB+D,KAAM,OACNQ,UAAW,CACTH,QAAS,IAEXI,QAAQ,KAKdrB,EAAMsB,UAAUpB,GAEhB,MAAMqB,EAAeA,IAAMvB,EAAMwB,SAGjC,OAFAC,OAAOC,iBAAiB,SAAUH,GAE3B,KACLE,OAAOE,oBAAoB,SAAUJ,GACrCvB,EAAM4B,SAAS,CAChB,I,0JClFH,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,qFCIA,MAAMnC,EAAQC,EACR1B,GAAO2B,EAAAA,EAAAA,KAAS,IAAeF,EAAM1C,QAErC8E,GAAYhC,EAAAA,EAAAA,IAAI,MAChBiC,GAAYjC,EAAAA,EAAAA,IAAI,M,OAEtBC,EAAAA,EAAAA,KAAY,KACV,IAAK+B,EAAU9B,QAAU+B,EAAU/B,MAAO,OAE1C,MAAMgC,EAAS9B,EAAAA,GAAa4B,EAAU9B,OAChCiC,EAAS/B,EAAAA,GAAa6B,EAAU/B,OAEhCkC,EAAU,CACd9B,QAAS,CACPC,QAAS,OACTC,gBAAiB,YACjBC,YAAa,OACbC,UAAW,CACTC,MAAO,SAGXU,OAAQ,CACN,CACEN,KAAM,MACNsB,OAAQ,MACRlE,KAAM,CACJ,CAAE+B,MAAO/B,EAAK+B,MAAM/C,gBAAiBmE,KAAM,QAC3C,CAAEpB,MAAO/B,EAAK+B,MAAM9C,aAAckE,KAAM,SAE1CgB,MAAO,CACLC,UAAYC,GACH,MAAMA,EAAOlB,aAAakB,EAAOtC,UAAUsC,EAAOC,aAE3DC,SAAU,GACVC,KAAM,CACJ3D,EAAG,CACD2B,MAAO,WAET1B,EAAG,CACD0B,MAAO,UAIbiC,UAAW,CACTC,MAAM,GAERC,SAAU,CACRC,UAAW,CACTC,WAAY,GACZC,cAAe,EACfC,YAAa,0BAOjBC,EAAU,CAEd7C,QAAS,CACPC,QAAS,OACTC,gBAAiB,YACjBC,YAAa,OACbC,UAAW,CACTC,MAAO,SAGXU,OAAQ,CACN,CACEN,KAAM,MACNsB,OAAQ,MACRlE,KAAM,CACJ,CAAE+B,MAAO/B,EAAK+B,MAAM7C,eAAgBiE,KAAM,QAC1C,CAAEpB,MAAO/B,EAAK+B,MAAM5C,YAAagE,KAAM,SAEzCgB,MAAO,CACLC,UAAYC,GACH,MAAMA,EAAOlB,aAAakB,EAAOtC,UAAUsC,EAAOC,aAE3DC,SAAU,GACVC,KAAM,CACJ3D,EAAG,CACD2B,MAAO,WAET1B,EAAG,CACD0B,MAAO,UAIbiC,UAAW,CACTC,MAAM,GAERC,SAAU,CACRC,UAAW,CACTC,WAAY,GACZC,cAAe,EACfC,YAAa,0BAOvBhB,EAAOT,UAAUW,GACjBD,EAAOV,UAAU0B,GAEjB,MAAMzB,EAAeA,KACnBQ,EAAOP,SACPQ,EAAOR,QAAQ,EAIjB,OAFAC,OAAOC,iBAAiB,SAAUH,GAE3B,KACLE,OAAOE,oBAAoB,SAAUJ,GACrCQ,EAAOH,UACPI,EAAOJ,SAAS,CACjB,I,yOC1HH,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,oFCIA,MAAMnC,EAAQC,EACR1B,GAAO2B,EAAAA,EAAAA,KAAS,IACfF,EAAMrC,QACJ,CACLC,KAAMoC,EAAMrC,QAAQC,KAAK2B,MAAM,EAAG,IAClC1B,UAAWmC,EAAMrC,QAAQE,UAAU0B,MAAM,EAAG,IAC5CzB,aAAckC,EAAMrC,QAAQG,aAAayB,MAAM,EAAG,KAJzB,CAAE3B,KAAM,GAAIC,UAAW,GAAIC,aAAc,MAQhEqC,GAAWC,EAAAA,EAAAA,IAAI,M,OAErBC,EAAAA,EAAAA,KAAY,KACV,IAAKF,EAASG,MAAO,OAErB,MAAMC,EAAQC,EAAAA,GAAaL,EAASG,OAC9BG,EAAS,CACbC,QAAS,CACPC,QAAS,OACTC,gBAAiB,YACjBC,YAAa,OACbC,UAAW,CACTC,MAAO,SAGXC,OAAQ,CACNC,KAAM,KACNH,UAAW,CACTC,MAAO,SAGXG,MAAO,CACL,CACEC,KAAM,WACN5C,KAAMA,EAAK+B,MAAM1C,OAGrByD,MAAO,CACL,CACEF,KAAM,QACNG,UAAW,CACTC,UAAW,CACTC,QAAS,OAKjBC,OAAQ,CACN,CACEC,KAAM,SACNP,KAAM,MACNqC,MAAO,QACPjF,KAAMA,EAAK+B,MAAMzC,WAEnB,CACE6D,KAAM,SACNP,KAAM,MACNqC,MAAO,QACPjF,KAAMA,EAAK+B,MAAMxC,gBAKvByC,EAAMsB,UAAUpB,GAEhB,MAAMqB,EAAeA,IAAMvB,EAAMwB,SAGjC,OAFAC,OAAOC,iBAAiB,SAAUH,GAE3B,KACLE,OAAOE,oBAAoB,SAAUJ,GACrCvB,EAAM4B,SAAS,CAChB,I,2JC7EH,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,oFCIA,MAAMnC,EAAQC,EACRwD,EAAeC,EAAQ,MACvBnF,GAAO2B,EAAAA,EAAAA,KAAS,IAAeF,EAAMrC,UAErCwC,GAAWC,EAAAA,EAAAA,IAAI,M,OAErBC,EAAAA,EAAAA,KAAY,KACV,IAAKF,EAASG,MAAO,OAErBE,EAAAA,GAAoB,QAASiD,GAE7B,MAAMlD,EAAQC,EAAAA,GAAaL,EAASG,OAE9BG,EAAS,CACbC,QAAS,CACPC,QAAS,OACTC,gBAAiB,YACjBC,YAAa,OACbC,UAAW,CACTC,MAAO,QAET4B,UAAWC,GACF,GAAGA,EAAOlB,4BACTnD,EAAK+B,MAAMzC,UAAUU,EAAK+B,MAAM1C,KAAK+F,QAAQf,EAAOlB,QAAU,yBAC9DnD,EAAK+B,MAAMxC,aAAaS,EAAK+B,MAAM1C,KAAK+F,QAAQf,EAAOlB,QAAU,KAG7EkC,UAAW,CACTC,IAAK,EACLC,IAAKC,KAAKD,OAAOvF,EAAK+B,MAAM1C,KAAK4B,KAAI,CAACwE,EAAGC,IACvC1F,EAAK+B,MAAMzC,UAAUoG,GAAK1F,EAAK+B,MAAMxC,aAAamG,MAAO,GAC3DC,KAAM,CAAC,MACPC,UAAU,EACVC,YAAY,EACZC,QAAS,CACPtD,MAAO,CAAC,UAAW,UAAW,YAEhCD,UAAW,CACTC,MAAO,SAGXU,OAAQ,CAAC,CACPN,KAAM,MACN3B,IAAK,QACL8E,MAAM,EACNC,KAAM,EACNC,IAAK,MACLrB,UAAW,CACTsB,UAAW,UACX5D,YAAa,aACb6D,YAAa,GAEfxB,SAAU,CACRR,MAAO,CACLO,MAAM,EACNlC,MAAO,eAGXxC,KAAMA,EAAK+B,MAAM1C,KAAK4B,KAAI,CAACkC,EAAMiD,KACxB,CACLjD,KAAMA,EACNpB,MAAO/B,EAAK+B,MAAMzC,UAAU8G,GAASpG,EAAK+B,MAAMxC,aAAa6G,UAMrEpE,EAAMsB,UAAUpB,GAEhB,MAAMqB,EAAeA,IAAMvB,EAAMwB,SAGjC,OAFAC,OAAOC,iBAAiB,SAAUH,GAE3B,KACLE,OAAOE,oBAAoB,SAAUJ,GACrCvB,EAAM4B,SAAS,CAChB,I,sJCjFH,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,Q,4JC0BA,MAAMyC,EAAoBnI,I,OAE1BoI,EAAAA,EAAAA,KAAcC,UACZ,UACQF,EAAkB5G,UACxBgE,OAAO+C,cAAc,IAAIC,MAAM,UACjC,CAAE,MAAOC,GACPC,EAAAA,GAAUD,MAAMA,EAAME,UAAU5G,MAAQ0G,EAAMG,QAChD,K,4kCCpCF,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://rouge_vue/./src/store/websitesShow.js","webpack://rouge_vue/./src/components/websites/show/ShowNumber.vue","webpack://rouge_vue/./src/components/websites/show/LineChart.vue","webpack://rouge_vue/./src/components/websites/show/LineChart.vue?dd66","webpack://rouge_vue/./src/components/websites/show/RatesCharts.vue","webpack://rouge_vue/./src/components/websites/show/RatesCharts.vue?04c8","webpack://rouge_vue/./src/components/websites/show/BarChart.vue","webpack://rouge_vue/./src/components/websites/show/BarChart.vue?98a6","webpack://rouge_vue/./src/components/websites/show/MapChart.vue","webpack://rouge_vue/./src/components/websites/show/MapChart.vue?af5b","webpack://rouge_vue/./src/views/websites/Show.vue","webpack://rouge_vue/./src/views/websites/Show.vue?d77c"],"sourcesContent":["import { defineStore } from \"pinia\"\r\nimport http from \"@/axios\"\r\n\r\nexport const useWebsitesShowStore = defineStore(\"websitesShow\", {\r\n  state: () => {\r\n    return {\r\n      loading: true,\r\n      // 第一行信息\r\n      websiteNum: 4459,\r\n      ipNum: 2207,\r\n      companyNum: 1942,\r\n      personNum: 1690,\r\n      // 第二行信息\r\n      websiteTrend: {\r\n        years: [2017, 2018, 2019, 2020, 2021, 2022, 2023],\r\n        total: [1000, 1800, 2800, 3500, 4500, 5800, 6499],\r\n        normal: [800, 1600, 2400, 3200, 4000, 4800, 3499],\r\n        malicious: [100, 200, 300, 400, 450, 500, 506]\r\n      },\r\n      rates: {\r\n        maliciousWebNum: 959,\r\n        normalWebNum: 3499,\r\n        maliciousIpNum: 506,\r\n        normalIpNum: 1701\r\n      },\r\n      // 第三行信息\r\n      webArea: {\r\n        area: ['河北', '北京', '上海', '广东', '浙江', '江苏', '四川', '湖北', '山东', '福建'],\r\n        normalNum: [245, 312, 289, 425, 356, 278, 198, 267, 345, 234],\r\n        maliciousNum: [45, 67, 52, 88, 73, 58, 42, 51, 64, 48]\r\n      }\r\n    }\r\n  },\r\n  actions: {\r\n    async getData() {\r\n      this.loading = true\r\n      const res1 = await http.get(\"/websites/base\")\r\n      const res2 = await http.get(\"/websites/other\")\r\n      this.loadBaseInfo(res1.data)\r\n      this.loadOtherInfo(res2.data)\r\n      this.loading = false\r\n    },\r\n    loadBaseInfo(data) {\r\n      this.websiteNum = data.websiteCount\r\n      this.ipNum = data.ipCount\r\n      this.companyNum = data.companyCount\r\n      this.personNum = data.personCount\r\n    },\r\n    loadOtherInfo(data) {\r\n      this.rates.maliciousWebNum = data.maliciousWebsiteCount\r\n      this.rates.normalWebNum = data.normalWebsiteCount\r\n      this.rates.maliciousIpNum = data.maliciousIpCount\r\n      this.rates.normalIpNum = data.normalIpCount\r\n\r\n      const sortedData = [...data.yearlyWebsiteInfo].sort((a, b) => a.year - b.year).slice(-10)\r\n      this.websiteTrend = {\r\n        years: sortedData.map(item => item.year),\r\n        total: sortedData.map(item => item.totalWebsiteCount),\r\n        normal: sortedData.map(item => item.normalWebsiteCount),\r\n        malicious: sortedData.map(item => item.maliciousWebsiteCount)\r\n      }\r\n\r\n      this.webArea = {\r\n        area: data.areaWebsiteInfo.map(item => item.provinceName),\r\n        normalNum: data.areaWebsiteInfo.map(item => item.normalCount),\r\n        maliciousNum: data.areaWebsiteInfo.map(item => item.maliciousCount)\r\n      }\r\n    }\r\n  }\r\n})","import script from \"./ShowNumber.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ShowNumber.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ShowNumber.vue?vue&type=style&index=0&id=1719ed5f&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1719ed5f\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"row-container\">\r\n    <h1>新建网站趋势图</h1>\r\n    <div ref=\"chartRef\" class=\"chart\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport * as echarts from 'echarts'\r\nimport { computed, watchEffect, ref } from 'vue';\r\n\r\n\r\nconst props = defineProps(['websiteTrend'])\r\nconst data = computed(() => { return props.websiteTrend })\r\n\r\nconst chartRef = ref(null)\r\n\r\nwatchEffect(() => {\r\n  if (!chartRef.value) return\r\n\r\n  const chart = echarts.init(chartRef.value)\r\n  const option = {\r\n    tooltip: {\r\n      trigger: 'axis',\r\n      backgroundColor: '#252B3366',\r\n      borderColor: '#333',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    legend: {\r\n      left: '8%',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    xAxis: {\r\n      type: 'category',\r\n      boundaryGap: false,\r\n      data: data.value.years\r\n    },\r\n    yAxis: {\r\n      type: 'value',\r\n      splitLine: {\r\n        lineStyle: {\r\n          opacity: 0.7\r\n        }\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        name: '全部网站',\r\n        data: data.value.total,\r\n        type: 'line',\r\n        areaStyle: {\r\n          opacity: 0.5\r\n        },\r\n        smooth: true\r\n      },\r\n      {\r\n        name: '恶意网站',\r\n        data: data.value.malicious,\r\n        type: 'line',\r\n        areaStyle: {\r\n          opacity: 0.5\r\n        },\r\n        smooth: true\r\n      },\r\n      {\r\n        name: '正常网站',\r\n        data: data.value.normal,\r\n        type: 'line',\r\n        areaStyle: {\r\n          opacity: 0.5\r\n        },\r\n        smooth: true\r\n      }\r\n    ]\r\n  }\r\n\r\n  chart.setOption(option)\r\n\r\n  const handleResize = () => chart.resize()\r\n  window.addEventListener('resize', handleResize)\r\n\r\n  return () => {\r\n    window.removeEventListener('resize', handleResize)\r\n    chart.dispose()\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.row-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: #343A40;\r\n}\r\n\r\nh1 {\r\n  position: absolute;\r\n  color: whitesmoke;\r\n  font-size: 20px;\r\n  height: 10%;\r\n  top: 3%;\r\n  left: 3%;\r\n  user-select: none;\r\n}\r\n\r\n.chart {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 90%;\r\n  top: 13%;\r\n}\r\n</style>\r\n","import script from \"./LineChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./LineChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./LineChart.vue?vue&type=style&index=0&id=43c2527c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-43c2527c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"row-container\">\r\n    <h1>比例统计</h1>\r\n    <div ref=\"chartRef1\" class=\"chart chart1\"></div>\r\n    <div ref=\"chartRef2\" class=\"chart chart2\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport * as echarts from 'echarts'\r\nimport { computed, watchEffect, ref } from 'vue';\r\n\r\nconst props = defineProps(['rates'])\r\nconst data = computed(() => { return props.rates })\r\n\r\nconst chartRef1 = ref(null)\r\nconst chartRef2 = ref(null)\r\n\r\nwatchEffect(() => {\r\n  if (!chartRef1.value || !chartRef2.value) return\r\n\r\n  const chart1 = echarts.init(chartRef1.value)\r\n  const chart2 = echarts.init(chartRef2.value)\r\n\r\n  const option1 = {\r\n    tooltip: {\r\n      trigger: 'item',\r\n      backgroundColor: '#252B3366',\r\n      borderColor: '#333',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        radius: '60%',\r\n        data: [\r\n          { value: data.value.maliciousWebNum, name: '恶意网站' },\r\n          { value: data.value.normalWebNum, name: '正常网站' },\r\n        ],\r\n        label: {\r\n          formatter: (params) => {\r\n            return `{a|${params.name}}\\n{b|${params.value} (${params.percent}%)}`;\r\n          },\r\n          fontSize: 14,\r\n          rich: {\r\n            a: {\r\n              color: 'inherit'\r\n            },\r\n            b: {\r\n              color: '#fff'\r\n            }\r\n          }\r\n        },\r\n        labelLine: {\r\n          show: true\r\n        },\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n\r\n  const option2 = {\r\n\r\n    tooltip: {\r\n      trigger: 'item',\r\n      backgroundColor: '#252B3366',\r\n      borderColor: '#333',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    series: [\r\n      {\r\n        type: 'pie',\r\n        radius: '60%',\r\n        data: [\r\n          { value: data.value.maliciousIpNum, name: '恶意Ip' },\r\n          { value: data.value.normalIpNum, name: '正常Ip' },\r\n        ],\r\n        label: {\r\n          formatter: (params) => {\r\n            return `{a|${params.name}}\\n{b|${params.value} (${params.percent}%)}`;\r\n          },\r\n          fontSize: 14,\r\n          rich: {\r\n            a: {\r\n              color: 'inherit'\r\n            },\r\n            b: {\r\n              color: '#fff'\r\n            }\r\n          }\r\n        },\r\n        labelLine: {\r\n          show: true\r\n        },\r\n        emphasis: {\r\n          itemStyle: {\r\n            shadowBlur: 10,\r\n            shadowOffsetX: 0,\r\n            shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n          }\r\n        }\r\n      }\r\n    ]\r\n  }\r\n\r\n  chart1.setOption(option1)\r\n  chart2.setOption(option2)\r\n\r\n  const handleResize = () => {\r\n    chart1.resize()\r\n    chart2.resize()\r\n  }\r\n  window.addEventListener('resize', handleResize)\r\n\r\n  return () => {\r\n    window.removeEventListener('resize', handleResize)\r\n    chart1.dispose()\r\n    chart2.dispose()\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.row-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: #343A40;\r\n}\r\n\r\nh1 {\r\n  position: absolute;\r\n  color: whitesmoke;\r\n  font-size: 20px;\r\n  height: 10%;\r\n  top: 3%;\r\n  left: 3%;\r\n  user-select: none;\r\n}\r\n\r\n.chart {\r\n  position: absolute;\r\n  width: 90%;\r\n  height: 40%;\r\n  border: 1px solid whitesmoke;\r\n  border-radius: 10px;\r\n}\r\n\r\n.chart1 {\r\n  top: 12%;\r\n  left: 5%;\r\n}\r\n\r\n.chart2 {\r\n  top: 54%;\r\n  left: 5%;\r\n}\r\n</style>\r\n","import script from \"./RatesCharts.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./RatesCharts.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./RatesCharts.vue?vue&type=style&index=0&id=9a73c672&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-9a73c672\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"row-container\">\r\n    <h1>网站-地区堆积图</h1>\r\n    <div ref=\"chartRef\" class=\"chart\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport * as echarts from 'echarts'\r\nimport { computed, watchEffect, ref } from 'vue';\r\n\r\n\r\nconst props = defineProps(['webArea'])\r\nconst data = computed(() => {\r\n  if (!props.webArea) return { area: [], normalNum: [], maliciousNum: [] }\r\n  return {\r\n    area: props.webArea.area.slice(0, 10),\r\n    normalNum: props.webArea.normalNum.slice(0, 10),\r\n    maliciousNum: props.webArea.maliciousNum.slice(0, 10)\r\n  }\r\n})\r\n\r\nconst chartRef = ref(null)\r\n\r\nwatchEffect(() => {\r\n  if (!chartRef.value) return\r\n\r\n  const chart = echarts.init(chartRef.value)\r\n  const option = {\r\n    tooltip: {\r\n      trigger: 'axis',\r\n      backgroundColor: '#252B3366',\r\n      borderColor: '#333',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    legend: {\r\n      left: '8%',\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    xAxis: [\r\n      {\r\n        type: 'category',\r\n        data: data.value.area\r\n      }\r\n    ],\r\n    yAxis: [\r\n      {\r\n        type: 'value',\r\n        splitLine: {\r\n          lineStyle: {\r\n            opacity: 0.7\r\n          }\r\n        }\r\n      }\r\n    ],\r\n    series: [\r\n      {\r\n        name: '正常网站数量',\r\n        type: 'bar',\r\n        stack: 'total',\r\n        data: data.value.normalNum\r\n      },\r\n      {\r\n        name: '恶意网站数量',\r\n        type: 'bar',\r\n        stack: 'total',\r\n        data: data.value.maliciousNum\r\n      }\r\n    ]\r\n  };\r\n\r\n  chart.setOption(option)\r\n\r\n  const handleResize = () => chart.resize()\r\n  window.addEventListener('resize', handleResize)\r\n\r\n  return () => {\r\n    window.removeEventListener('resize', handleResize)\r\n    chart.dispose()\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.row-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: #343A40;\r\n}\r\n\r\nh1 {\r\n  position: absolute;\r\n  color: whitesmoke;\r\n  font-size: 20px;\r\n  height: 10%;\r\n  top: 3%;\r\n  left: 3%;\r\n  user-select: none;\r\n}\r\n\r\n.chart {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 90%;\r\n  top: 13%;\r\n}\r\n</style>\r\n","import script from \"./BarChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BarChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BarChart.vue?vue&type=style&index=0&id=a3f0a21c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a3f0a21c\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"row-container\">\r\n    <h1>分布图</h1>\r\n    <div ref=\"chartRef\" class=\"chart\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport * as echarts from 'echarts'\r\nimport { computed, watchEffect, ref } from 'vue';\r\n\r\n\r\nconst props = defineProps(['webArea'])\r\nconst chinaGeoJson = require('@/assets/china-geo.json')\r\nconst data = computed(() => { return props.webArea })\r\n\r\nconst chartRef = ref(null)\r\n\r\nwatchEffect(() => {\r\n  if (!chartRef.value) return\r\n\r\n  echarts.registerMap('china', chinaGeoJson)\r\n\r\n  const chart = echarts.init(chartRef.value)\r\n\r\n  const option = {\r\n    tooltip: {\r\n      trigger: 'item',\r\n      backgroundColor: '#252B3366',\r\n      borderColor: '#333',\r\n      textStyle: {\r\n        color: '#fff'\r\n      },\r\n      formatter: params => {\r\n        return `${params.name}<br/>\r\n        正常网站: ${data.value.normalNum[data.value.area.indexOf(params.name)] || 0}<br/>\r\n        恶意网站: ${data.value.maliciousNum[data.value.area.indexOf(params.name)] || 0}`\r\n      }\r\n    },\r\n    visualMap: {\r\n      min: 0,\r\n      max: Math.max(...data.value.area.map((_, i) =>\r\n        data.value.normalNum[i] + data.value.maliciousNum[i])) + 10,\r\n      text: ['数量'],\r\n      realtime: false,\r\n      calculable: true,\r\n      inRange: {\r\n        color: ['#5470C6', '#91CC75', '#FF6030']\r\n      },\r\n      textStyle: {\r\n        color: '#fff'\r\n      }\r\n    },\r\n    series: [{\r\n      type: 'map',\r\n      map: 'china',\r\n      roam: true,\r\n      zoom: 2,\r\n      top: '30%',\r\n      itemStyle: {\r\n        areaColor: '#5470C6',\r\n        borderColor: 'whitesmoke',\r\n        borderWidth: 1\r\n      },\r\n      emphasis: {\r\n        label: {\r\n          show: true,\r\n          color: 'whitesmoke'\r\n        }\r\n      },\r\n      data: data.value.area.map((name, index) => {\r\n        return {\r\n          name: name,\r\n          value: data.value.normalNum[index] + data.value.maliciousNum[index]\r\n        };\r\n      })\r\n    }]\r\n  }\r\n\r\n  chart.setOption(option)\r\n\r\n  const handleResize = () => chart.resize()\r\n  window.addEventListener('resize', handleResize)\r\n\r\n  return () => {\r\n    window.removeEventListener('resize', handleResize)\r\n    chart.dispose()\r\n  }\r\n})\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.row-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n  position: relative;\r\n  background-color: #343A40;\r\n}\r\n\r\nh1 {\r\n  position: absolute;\r\n  color: whitesmoke;\r\n  font-size: 20px;\r\n  height: 10%;\r\n  top: 3%;\r\n  left: 3%;\r\n  user-select: none;\r\n}\r\n\r\n.chart {\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 87%;\r\n  top: 13%;\r\n}\r\n</style>\r\n","import script from \"./MapChart.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MapChart.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MapChart.vue?vue&type=style&index=0&id=69cebe0e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-69cebe0e\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"wrapper\">\r\n    <div class=\"loading\" v-loading=\"websitesShowStore.loading\"></div>\r\n    <div v-show=\"!websitesShowStore.loading\" class=\"container\">\r\n      <div class=\"row\">\r\n        <show-number class=\"row-item\" title=\"网站数量\" :num=\"websitesShowStore.websiteNum\" color=\"red\" :icon=\"Monitor\" />\r\n        <show-number class=\"row-item\" title=\"IP数量\" :num=\"websitesShowStore.ipNum\" color=\"#8334F0\" :icon=\"Connection\" />\r\n        <show-number class=\"row-item\" title=\"公司数量\" :num=\"websitesShowStore.companyNum\" color=\"#EFB111\"\r\n          :icon=\"OfficeBuilding\" />\r\n        <show-number class=\"row-item\" title=\"人员数量\" :num=\"websitesShowStore.personNum\" color=\"green\" :icon=\"User\" />\r\n      </div>\r\n      <div class=\"row\">\r\n        <line-chart class=\"line-chart\" :websiteTrend=\"websitesShowStore.websiteTrend\" />\r\n        <rates-charts class=\"rates-charts\" :rates=\"websitesShowStore.rates\" />\r\n      </div>\r\n      <div class=\"row\">\r\n        <bar-chart class=\"bar-chart\" :webArea=\"websitesShowStore.webArea\" />\r\n        <map-chart class=\"map-chart\" :webArea=\"websitesShowStore.webArea\" />\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { useWebsitesShowStore } from '@/store/websitesShow'\r\nimport ShowNumber from '@/components/websites/show/ShowNumber.vue'\r\nimport { Monitor, Connection, OfficeBuilding, User } from '@element-plus/icons-vue'\r\nimport LineChart from '@/components/websites/show/LineChart.vue'\r\nimport RatesCharts from '@/components/websites/show/RatesCharts.vue'\r\nimport BarChart from '@/components/websites/show/BarChart.vue'\r\nimport MapChart from '@/components/websites/show/MapChart.vue'\r\nimport { onBeforeMount } from 'vue'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst websitesShowStore = useWebsitesShowStore()\r\n\r\nonBeforeMount(async () => {\r\n  try {\r\n    await websitesShowStore.getData()\r\n    window.dispatchEvent(new Event('resize'));\r\n  } catch (error) {\r\n    ElMessage.error(error.response?.data || error.message)\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.loading {\r\n  position: absolute;\r\n  top: 50%;\r\n  width: 80%;\r\n}\r\n\r\n.wrapper {\r\n  height: calc(100vh - 20px);\r\n  overflow-y: auto;\r\n}\r\n\r\n.container {\r\n  padding: 20px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: start;\r\n  gap: 20px;\r\n}\r\n\r\n.row {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  width: 100%;\r\n}\r\n\r\n/* 第一行元素 */\r\n.row-item {\r\n  width: 22%;\r\n  height: 150px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* 第二行元素 */\r\n.line-chart {\r\n  width: 60%;\r\n  height: 400px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.rates-charts {\r\n  width: 38%;\r\n  height: 400px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* 第三行元素 */\r\n.bar-chart {\r\n  width: 45%;\r\n  height: 400px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.map-chart {\r\n  width: 53%;\r\n  height: 400px;\r\n  border-radius: 10px;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n\r\n/* 滚动条样式 */\r\n::-webkit-scrollbar {\r\n  width: 8px;\r\n  height: 8px;\r\n}\r\n\r\n::-webkit-scrollbar-track {\r\n  background: #f1f1f1;\r\n  border-radius: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb {\r\n  background: #888;\r\n  border-radius: 4px;\r\n}\r\n\r\n::-webkit-scrollbar-thumb:hover {\r\n  background: #555;\r\n}\r\n</style>\r\n","import script from \"./Show.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Show.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Show.vue?vue&type=style&index=0&id=76ca90de&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-76ca90de\"]])\n\nexport default __exports__"],"names":["useWebsitesShowStore","defineStore","state","loading","websiteNum","ipNum","companyNum","personNum","websiteTrend","years","total","normal","malicious","rates","maliciousWebNum","normalWebNum","maliciousIpNum","normalIpNum","webArea","area","normalNum","maliciousNum","actions","getData","this","res1","http","get","res2","loadBaseInfo","data","loadOtherInfo","websiteCount","ipCount","companyCount","personCount","maliciousWebsiteCount","normalWebsiteCount","maliciousIpCount","normalIpCount","sortedData","yearlyWebsiteInfo","sort","a","b","year","slice","map","item","totalWebsiteCount","areaWebsiteInfo","provinceName","normalCount","maliciousCount","__exports__","props","__props","computed","chartRef","ref","watchEffect","value","chart","echarts","option","tooltip","trigger","backgroundColor","borderColor","textStyle","color","legend","left","xAxis","type","boundaryGap","yAxis","splitLine","lineStyle","opacity","series","name","areaStyle","smooth","setOption","handleResize","resize","window","addEventListener","removeEventListener","dispose","chartRef1","chartRef2","chart1","chart2","option1","radius","label","formatter","params","percent","fontSize","rich","labelLine","show","emphasis","itemStyle","shadowBlur","shadowOffsetX","shadowColor","option2","stack","chinaGeoJson","require","indexOf","visualMap","min","max","Math","_","i","text","realtime","calculable","inRange","roam","zoom","top","areaColor","borderWidth","index","websitesShowStore","onBeforeMount","async","dispatchEvent","Event","error","ElMessage","response","message"],"sourceRoot":""}