{"version":3,"file":"js/443.a5d90769.js","mappings":"uVA+BA,MAAMA,GAAUC,EAAAA,EAAAA,IAAI,MACdC,GAAOD,EAAAA,EAAAA,IAAI,CACfE,MAAO,GACPC,SAAU,GACVC,gBAAiB,KAGbC,EAAgBA,CAACC,EAAMC,EAAOC,KACpB,KAAVD,EACFC,EAAS,IAAIC,MAAM,YACVF,IAAUN,EAAKM,MAAMJ,SAC9BK,EAAS,IAAIC,MAAM,cAEnBD,GACF,EAGIE,EAAQ,CACZR,MAAO,CACL,CAAES,UAAU,EAAMC,QAAS,QAASC,QAAS,QAC7C,CAAEC,KAAM,QAASF,QAAS,aAAcC,QAAS,SAEnDV,SAAU,CACR,CAAEQ,UAAU,EAAMC,QAAS,QAASC,QAAS,QAC7C,CAAEE,IAAK,EAAGH,QAAS,YAAaC,QAAS,SAE3CT,gBAAiB,CACf,CAAEO,UAAU,EAAMC,QAAS,UAAWC,QAAS,QAC/C,CAAEG,UAAWX,EAAeQ,QAAS,UAInCI,GAAYC,EAAAA,EAAAA,KACZC,GAASC,EAAAA,EAAAA,MAETC,EAAaC,UACZvB,EAAQQ,aACPR,EAAQQ,MAAMgB,UAASD,UAC3B,GAAIE,EACF,UACQP,EAAUQ,SAASxB,EAAKM,OAC9BmB,EAAAA,GAAUC,QAAQ,QAClBR,EAAOS,KAAK,SACd,CAAE,MAAOC,GACPH,EAAAA,GAAUG,MAAMA,EAAMC,SAASC,MAAQF,EAAMjB,QAC/C,CACF,GACA,E,q5CCxEJ,MAAMoB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://rouge_vue/./src/views/auth/AuthRegister.vue","webpack://rouge_vue/./src/views/auth/AuthRegister.vue?fc03"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <h1>欢迎注册慧眼追踪</h1>\r\n    <div class=\"form-container\">\r\n      <el-form ref=\"formRef\" :model=\"form\" :rules=\"rules\" label-width=\"120px\" class=\"login-form\">\r\n        <el-form-item label=\"邮箱\" prop=\"email\">\r\n          <el-input v-model=\"form.email\" placeholder=\"请输入邮箱\" />\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\" prop=\"password\">\r\n          <el-input v-model=\"form.password\" type=\"password\" placeholder=\"请输入密码\" show-password />\r\n        </el-form-item>\r\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\r\n          <el-input v-model=\"form.confirmPassword\" type=\"password\" placeholder=\"请再次输入密码\" show-password />\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button type=\"primary\" @click=\"submitForm\" plain>注册</el-button>\r\n        </el-form-item>\r\n        <div class=\"register-link\">\r\n          已有账号？<router-link to=\"/login\">立即登录</router-link>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport { useAuthStore } from '@/store/auth'\r\nimport { useRouter } from 'vue-router'\r\nimport { ElMessage } from 'element-plus'\r\n\r\nconst formRef = ref(null)\r\nconst form = ref({\r\n  email: '',\r\n  password: '',\r\n  confirmPassword: ''\r\n})\r\n\r\nconst validatePass2 = (rule, value, callback) => {\r\n  if (value === '') {\r\n    callback(new Error('请再次输入密码'))\r\n  } else if (value !== form.value.password) {\r\n    callback(new Error('两次输入密码不一致'))\r\n  } else {\r\n    callback()\r\n  }\r\n}\r\n\r\nconst rules = {\r\n  email: [\r\n    { required: true, message: '请输入邮箱', trigger: 'blur' },\r\n    { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\r\n  ],\r\n  password: [\r\n    { required: true, message: '请输入密码', trigger: 'blur' },\r\n    { min: 6, message: '密码长度至少为6位', trigger: 'blur' }\r\n  ],\r\n  confirmPassword: [\r\n    { required: true, message: '请再次输入密码', trigger: 'blur' },\r\n    { validator: validatePass2, trigger: 'blur' }\r\n  ]\r\n}\r\n\r\nconst authStore = useAuthStore()\r\nconst router = useRouter()\r\n\r\nconst submitForm = async () => {\r\n  if (!formRef.value) return\r\n  await formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      try {\r\n        await authStore.register(form.value)\r\n        ElMessage.success('注册成功')\r\n        router.push('/login')\r\n      } catch (error) {\r\n        ElMessage.error(error.response.data || error.message)\r\n      }\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-container {\r\n  height: 100vh;\r\n  width: 100vw;\r\n  text-align: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.form-container {\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: #02a6b511;\r\n}\r\n\r\nh1 {\r\n  display: block;\r\n  margin-top: 20vh;\r\n  margin-bottom: 5vh;\r\n  color: white;\r\n}\r\n\r\n.login-form {\r\n  width: 400px;\r\n  padding: 30px;\r\n  border-radius: 12px;\r\n  box-shadow: 0 4px 20px 0 rgba(2, 166, 181, 0.2);\r\n  border: 1px solid rgba(2, 166, 181, 0.5);\r\n  background-color: rgba(2, 166, 181, 0.05);\r\n  backdrop-filter: blur(5px);\r\n  text-align: center;\r\n}\r\n\r\n.login-form :deep(label) {\r\n  display: block;\r\n  width: 100px !important;\r\n  text-align: center;\r\n  color: white;\r\n}\r\n\r\n.login-form :deep(.el-input__wrapper) {\r\n  background-color: transparent;\r\n}\r\n\r\n.login-form :deep(.el-input__inner) {\r\n  color: white;\r\n}\r\n\r\n.login-form :deep(.el-button) {\r\n  color: white;\r\n  background-color: rgba(2, 166, 181, 0.3);\r\n  width: 80%;\r\n  margin: 10px auto 0;\r\n}\r\n\r\n.login-form :deep(.el-form-item__content) {\r\n  margin-left: 0 !important;\r\n}\r\n\r\n.register-link {\r\n  margin: 15px auto 0;\r\n  text-align: center;\r\n  color: rgba(255, 255, 255, 0.7);\r\n  width: 80%;\r\n}\r\n\r\n.register-link a {\r\n  color: #02a6b5;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n\r\n.register-link a:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n","import script from \"./AuthRegister.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./AuthRegister.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./AuthRegister.vue?vue&type=style&index=0&id=40310072&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-40310072\"]])\n\nexport default __exports__"],"names":["formRef","ref","form","email","password","confirmPassword","validatePass2","rule","value","callback","Error","rules","required","message","trigger","type","min","validator","authStore","useAuthStore","router","useRouter","submitForm","async","validate","valid","register","ElMessage","success","push","error","response","data","__exports__"],"sourceRoot":""}