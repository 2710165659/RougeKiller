"use strict";(self["webpackChunkrouge_vue"]=self["webpackChunkrouge_vue"]||[]).push([[385],{4385:function(e,a,t){t.r(a),t.d(a,{default:function(){return q}});var s=t(6768),l=t(144),o=t(4232),i=t(7477);const n={class:"icon-container"},r={class:"info-list"},c={class:"info-item"},u={class:"info-value"},d={class:"info-item"},p={class:"info-value"},f={class:"info-item"},m={class:"info-value"},v={class:"info-item"},b={class:"info-value"},h={class:"info-item"},k={class:"info-value"};var L={__name:"WebsiteCard",props:["data"],setup(e){const a=e,t=(0,l.KR)(a.data.isMalicious?"恶意":"正常");return(a,L)=>{const g=(0,s.g2)("el-icon");return(0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["website-card",{malicious:e.data.isMalicious}])},[(0,s.Lk)("div",n,[(0,s.bF)(g,{size:40},{default:(0,s.k6)((()=>[(0,s.bF)((0,l.R1)(i.N_E))])),_:1})]),(0,s.Lk)("div",{class:(0,o.C4)(["url-button",{bad:e.data.isMalicious}])},[(0,s.Lk)("span",null,(0,o.v_)(t.value),1),(0,s.eW)(" "+(0,o.v_)(e.data.url),1)],2),(0,s.Lk)("div",r,[(0,s.Lk)("div",c,[L[0]||(L[0]=(0,s.Lk)("span",{class:"info-label"},"标题：",-1)),(0,s.Lk)("span",u,(0,o.v_)(e.data.title),1)]),(0,s.Lk)("div",d,[L[1]||(L[1]=(0,s.Lk)("span",{class:"info-label"},"URL：",-1)),(0,s.Lk)("span",p,(0,o.v_)(e.data.url),1)]),(0,s.Lk)("div",f,[L[2]||(L[2]=(0,s.Lk)("span",{class:"info-label"},"端口：",-1)),(0,s.Lk)("span",m,(0,o.v_)(e.data.port),1)]),(0,s.Lk)("div",v,[L[3]||(L[3]=(0,s.Lk)("span",{class:"info-label"},"所属：",-1)),(0,s.Lk)("span",b,(0,o.v_)(e.data.company),1)]),(0,s.Lk)("div",h,[L[4]||(L[4]=(0,s.Lk)("span",{class:"info-label"},"备案：",-1)),(0,s.Lk)("span",k,(0,o.v_)(e.data.serviceCode),1)])])],2)}}},g=t(1241);const _=(0,g.A)(L,[["__scopeId","data-v-480e6c6c"]]);var F=_,C=t(2261),R=t(3173);const w=(0,C.nY)("websitesSearch",{state:()=>({websiteList:[],searchForm:(0,l.Kh)({title:"",url:"",company:"",pageSize:6,pageNum:1}),total:0,maliciousCount:0,normalCount:0}),actions:{async searchWebsites(){this.websiteList=[];const e=await R.A.get("/websites/search",{params:this.searchForm});this.websiteList=e.data.data||[],this.total=e.data.total||0,this.maliciousCount=e.data.maliciousCount||0,this.normalCount=e.data.normalCount||0},resetSearch(){this.searchForm=(0,l.Kh)({title:"",url:"",company:"",pageSize:6,pageNum:1}),this.websiteList=[]}}});var y=t(9671),x={__name:"CountCirclrChart",setup(e){const a=w(),t=(0,l.KR)(null);let o=null;const i=()=>{t.value&&(o=y.Ts(t.value),n())},n=()=>{if(!o)return;const e={tooltip:{trigger:"item",backgroundColor:"#252B3388",borderColor:"#333",formatter:"{b}:{c} ({d}%)",textStyle:{color:"#fff"}},legend:{orient:"horizontal",left:"center",top:10,textStyle:{color:"#fff"}},series:[{type:"pie",radius:["50%","70%"],avoidLabelOverlap:!1,label:{show:!0,position:"center",fontSize:"18",fontWeight:"bold",color:"#ffffff",formatter:"网站分类"},data:[{value:a.maliciousCount,name:"恶意网站"},{value:a.normalCount,name:"正常网站"}]}]};o.setOption(e)};(0,s.sV)((()=>{i(),window.addEventListener("resize",r)})),(0,s.xo)((()=>{o&&(o.dispose(),o=null),window.removeEventListener("resize",r)}));const r=()=>{o&&o.resize()};return(0,s.wB)((()=>[a.maliciousCount,a.normalCount]),(()=>{n()}),{deep:!0}),(e,a)=>((0,s.uX)(),(0,s.CE)("div",{ref_key:"chartRef",ref:t,style:{width:"100%",height:"300px"}},null,512))}};const z=x;var S=z,V=t(1219);const W={class:"search-container"},N={class:"search-bar"},E={class:"result-area"},U={class:"left-space"},K={class:"result-stats"},X={class:"stats-header"},A={class:"stats-count"},B={class:"chart"},I={class:"result-list"},M={class:"pagination"};var j={__name:"WebsitesSearch",setup(e){const a=w();(0,s.sV)((async()=>{r()}));const t=()=>{a.searchForm.pageNum=1,r()},n=()=>{a.resetSearch(),r()},r=async()=>{try{await a.searchWebsites()}catch(e){V.nk.error(e.response?.data||e.message)}};return(e,r)=>{const c=(0,s.g2)("el-input"),u=(0,s.g2)("el-form-item"),d=(0,s.g2)("el-col"),p=(0,s.g2)("el-button"),f=(0,s.g2)("el-row"),m=(0,s.g2)("el-form"),v=(0,s.g2)("el-icon"),b=(0,s.g2)("el-pagination");return(0,s.uX)(),(0,s.CE)("div",W,[r[7]||(r[7]=(0,s.Lk)("div",{class:"search-title"},"网站检索",-1)),(0,s.Lk)("div",N,[(0,s.bF)(m,{model:(0,l.R1)(a).searchForm,"label-width":"80px"},{default:(0,s.k6)((()=>[(0,s.bF)(f,null,{default:(0,s.k6)((()=>[(0,s.bF)(d,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(u,{label:"网站标题"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{modelValue:(0,l.R1)(a).searchForm.title,"onUpdate:modelValue":r[0]||(r[0]=e=>(0,l.R1)(a).searchForm.title=e),placeholder:"请输入网站标题","prefix-icon":(0,l.R1)(i.vji)},null,8,["modelValue","prefix-icon"])])),_:1})])),_:1}),(0,s.bF)(d,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(u,{label:"网站URL"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{modelValue:(0,l.R1)(a).searchForm.url,"onUpdate:modelValue":r[1]||(r[1]=e=>(0,l.R1)(a).searchForm.url=e),placeholder:"请输入URL","prefix-icon":(0,l.R1)(i.Ngq)},null,8,["modelValue","prefix-icon"])])),_:1})])),_:1}),(0,s.bF)(d,{span:6},{default:(0,s.k6)((()=>[(0,s.bF)(u,{label:"公司名称"},{default:(0,s.k6)((()=>[(0,s.bF)(c,{modelValue:(0,l.R1)(a).searchForm.company,"onUpdate:modelValue":r[2]||(r[2]=e=>(0,l.R1)(a).searchForm.company=e),placeholder:"请输入公司名称","prefix-icon":(0,l.R1)(i.BaS)},null,8,["modelValue","prefix-icon"])])),_:1})])),_:1}),(0,s.bF)(d,{span:4,offset:1},{default:(0,s.k6)((()=>[(0,s.bF)(p,{type:"primary",onClick:t,icon:(0,l.R1)(i.vji)},{default:(0,s.k6)((()=>r[4]||(r[4]=[(0,s.eW)("查询")]))),_:1},8,["icon"]),(0,s.bF)(p,{onClick:n,icon:(0,l.R1)(i.C42)},{default:(0,s.k6)((()=>r[5]||(r[5]=[(0,s.eW)("清空")]))),_:1},8,["icon"])])),_:1})])),_:1})])),_:1},8,["model"])]),(0,s.Lk)("div",E,[(0,s.Lk)("div",U,[(0,s.Lk)("div",K,[(0,s.Lk)("div",X,[r[6]||(r[6]=(0,s.Lk)("span",null,"相关结果",-1)),(0,s.bF)(v,null,{default:(0,s.k6)((()=>[(0,s.bF)((0,l.R1)(i.N_H))])),_:1})]),(0,s.Lk)("div",A,(0,o.v_)((0,l.R1)(a).total),1)]),(0,s.Lk)("div",B,[(0,s.bF)(S)])]),(0,s.Lk)("div",I,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,l.R1)(a).websiteList,(e=>((0,s.uX)(),(0,s.Wv)(F,{key:e.id,data:e},null,8,["data"])))),128))])]),(0,s.Lk)("div",M,[(0,s.bF)(b,{"current-page":(0,l.R1)(a).searchForm.pageNum,"page-size":(0,l.R1)(a).searchForm.pageSize,background:!0,layout:"prev, pager, next",total:(0,l.R1)(a).total,onCurrentChange:r[3]||(r[3]=e=>{(0,l.R1)(a).searchForm.pageNum=e,(0,l.R1)(a).searchWebsites()})},null,8,["current-page","page-size","total"])])])}}};const O=(0,g.A)(j,[["__scopeId","data-v-2e8786be"]]);var q=O}}]);
//# sourceMappingURL=385.b3c6ae69.js.map